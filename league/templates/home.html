{% extends "base.html" %}
{% block content %}
    <!--Hero/Carousel section-->
    {% include 'components/carousel.html' %}

    <!-- Main Content Section -->
    <div class="bg-gray-900 py-12">
        <div class="container mx-auto px-4">
            <!-- Stats Overview Cards -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="bg-gray-800 rounded-xl shadow-lg p-6 text-center">
                    <h3 class="text-2xl font-bold text-white">{{ matches|length }}</h3>
                    <p class="text-gray-400">Total Matches</p>
                </div>
                
                <div class="bg-gray-800 rounded-xl shadow-lg p-6 text-center">
                    <h3 class="text-2xl font-bold text-white">{{ top_scorers|length }}</h3>
                    <p class="text-gray-400">Top Players</p>
                </div>
                
                <div class="bg-gray-800 rounded-xl shadow-lg p-6 text-center">
                    <h3 class="text-2xl font-bold text-white">{{ upcoming_matches|length }}</h3>
                    <p class="text-gray-400">Upcoming</p>
                </div>
                
                <div class="bg-gray-800 rounded-xl shadow-lg p-6 text-center">
                    <h3 class="text-2xl font-bold text-white">
                        {% if top_scorers %}{{ top_scorers.0.goals }}{% else %}0{% endif %}
                    </h3>
                    <p class="text-gray-400">Top Goals</p>
                </div>
            </div>

            <div class="grid grid-cols-1 xl:grid-cols-4 gap-8">
                
                <!-- Recent Matches Section -->
                <div class="xl:col-span-2">
                    <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                        <div class="bg-gray-700 px-6 py-4">
                            <h2 class="text-2xl font-bold text-white">Recent Matches</h2>
                        </div>
                        
                        <div class="p-6">
                            {% for match in matches %}
                                <div class="bg-gray-900 rounded-lg p-6 mb-4 last:mb-0 hover:shadow-md transition-shadow duration-200">
                                    <div class="flex items-center justify-between mb-3">
                                        <div>
                                            <h3 class="font-semibold text-lg text-white">{{ match.home_team }} vs {{ match.away_team }}</h3>
                                            <p class="text-sm text-gray-400">{{ match.date|date:"M d, Y H:i" }}</p>
                                        </div>
                                        <div class="text-right">
                                            <div class="bg-gray-700 px-4 py-2 rounded-lg">
                                                <span class="text-2xl font-bold text-white">{{ match.home_score }} - {{ match.away_score }}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            {% empty %}
                                <div class="text-center py-12">
                                    <p class="text-gray-400 text-lg">No recent matches available</p>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- Right Column Container -->
                <div class="xl:col-span-2 space-y-8">
                    <!-- Upcoming Matches Section -->
                    <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                        <div class="bg-gray-700 px-6 py-4">
                            <h2 class="text-xl font-bold text-white">Upcoming Matches</h2>
                        </div>
                        
                        <div class="p-6">
                            {% for match in upcoming_matches %}
                                <div class="bg-gray-900 rounded-lg p-4 mb-4 last:mb-0">
                                    <div class="flex items-center justify-between">
                                        <div class="text-center">
                                            <div class="font-semibold text-white mb-1">{{ match.home_team }}</div>
                                            <div class="text-sm text-gray-400 mb-1">vs</div>
                                            <div class="font-semibold text-white">{{ match.away_team }}</div>
                                        </div>
                                        <div class="text-right">
                                            <div class="text-sm font-medium text-gray-300">{{ match.date|date:"M d" }}</div>
                                            <div class="text-xs text-gray-400">{{ match.date|date:"H:i" }}</div>
                                        </div>
                                    </div>
                                </div>
                            {% empty %}
                                <div class="text-center py-8">
                                    <p class="text-gray-400">No upcoming matches</p>
                                </div>
                            {% endfor %}
                        </div>
                    </div>

                    <!-- Top Scorers Section -->
                    <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                        <div class="bg-gray-700 px-6 py-4">
                            <h2 class="text-2xl font-bold text-white">Top Scorers</h2>
                        </div>
                        
                        <div class="p-6">
                            {% for stat in top_scorers %}
                                <div class="flex items-center justify-between py-4 border-b border-gray-700 last:border-b-0">
                                    <div>
                                        <h3 class="font-semibold text-white">{{ stat.player }}</h3>
                                        <p class="text-sm text-gray-400">{{ stat.team|default:"Player" }}</p>
                                    </div>
                                    <div class="text-right">
                                        <div class="bg-gray-700 px-3 py-1 rounded-full">
                                            <span class="text-lg font-bold text-white">{{ stat.goals }}</span>
                                        </div>
                                    </div>
                                </div>
                            {% empty %}
                                <div class="text-center py-8">
                                    <p class="text-gray-400">No stats available</p>
                                </div>
                            {% endfor %}
                        </div>
                    </div>

                    <!-- League Table/Standings Preview -->
                    <div class="bg-gray-800 rounded-xl shadow-lg overflow-hidden">
                        <div class="bg-gray-700 px-6 py-4">
                            <h3 class="text-lg font-bold text-white">League Table</h3>
                        </div>
                        <div class="p-6">
                            {% for team in league_table %}
                                <div class="flex items-center justify-between py-3 border-b border-gray-700 last:border-b-0">
                                    <div>
                                        <h4 class="font-medium text-white">{{ team.name }}</h4>
                                    </div>
                                    <div class="text-right">
                                        <div class="text-lg font-bold text-white">{{ team.points|default:"0" }}</div>
                                    </div>
                                </div>
                            {% empty %}
                                <div class="text-center py-6">
                                    <p class="text-gray-400 text-sm">League table coming soon</p>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--footer-->
    {% include 'components/footer.html' %}
{% endblock %}